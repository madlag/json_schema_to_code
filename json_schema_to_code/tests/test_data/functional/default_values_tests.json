[
  {
    "name": "basic_default_values",
    "description": "Test basic default values for primitive types",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "definitions": {
        "TestClass": {
          "type": "object",
          "properties": {
            "string_with_default": {
              "type": "string",
              "default": "hello"
            },
            "number_with_default": {
              "type": "number",
              "default": 42.5
            },
            "integer_with_default": {
              "type": "integer",
              "default": 10
            },
            "boolean_with_default": {
              "type": "boolean",
              "default": true
            },
            "string_without_default": {
              "type": "string"
            }
          },
          "required": ["string_without_default"]
        }
      }
    },
    "expected_python": [
      "string_with_default: str = 'hello'",
      "number_with_default: float = 42.5",
      "integer_with_default: int = 10",
      "boolean_with_default: bool = True",
      "string_without_default: str"
    ],
    "expected_python_v1": [
      "string_with_default: str = \"hello\"",
      "number_with_default: float = 42.5",
      "integer_with_default: int = 10",
      "boolean_with_default: bool = True",
      "string_without_default: str"
    ],
    "expected_cs": [
      "public string StringWithDefault { get; set; } = \"hello\";",
      "public float NumberWithDefault { get; set; } = 42.5",
      "public int IntegerWithDefault { get; set; } = 10;",
      "public bool BooleanWithDefault { get; set; } = true;",
      "public string StringWithoutDefault { get; set; }"
    ]
  },
  {
    "name": "optional_with_defaults",
    "description": "Test nullable types with defaults",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "definitions": {
        "TestClass": {
          "type": "object",
          "properties": {
            "optional_string_with_default": {
              "type": ["string", "null"],
              "default": "default_value"
            },
            "optional_number_with_null_default": {
              "type": ["number", "null"],
              "default": null
            },
            "optional_string_without_default": {
              "type": ["string", "null"]
            }
          }
        }
      }
    },
    "expected_python": [
      "optional_string_with_default: str = 'default_value'",
      "optional_number_with_null_default: float | None = None",
      "optional_string_without_default: str | None = None"
    ],
    "expected_python_v1": [
      "optional_string_with_default: str | None = \"default_value\"",
      "optional_number_with_null_default: float | None = None",
      "optional_string_without_default: str | None = None"
    ],
    "expected_cs": [
      "public string OptionalStringWithDefault { get; set; } = \"default_value\";",
      "public float? OptionalNumberWithNullDefault { get; set; }",
      "public string? OptionalStringWithoutDefault { get; set; }"
    ],
    "expected_cs_v1": [
      "public string? OptionalStringWithDefault { get; set; } = \"default_value\";",
      "public float? OptionalNumberWithNullDefault { get; set; }",
      "public string? OptionalStringWithoutDefault { get; set; }"
    ]
  },
  {
    "name": "array_defaults",
    "description": "Test array types with default values",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "definitions": {
        "TestClass": {
          "type": "object",
          "properties": {
            "string_array_with_default": {
              "type": "array",
              "items": {"type": "string"},
              "default": ["item1", "item2"]
            },
            "empty_array_default": {
              "type": "array",
              "items": {"type": "integer"},
              "default": []
            }
          }
        }
      }
    },
    "expected_python": [
      "string_array_with_default: list[str] = field(default_factory=lambda: ['item1', 'item2'])",
      "empty_array_default: list[int] = field(default_factory=list)"
    ],
    "expected_python_v1": [
      "string_array_with_default: list[str] = field(default_factory=lambda: [\"item1\", \"item2\"])",
      "empty_array_default: list[int] = field(default_factory=list)"
    ],
    "expected_cs": [
      "public List<string> StringArrayWithDefault { get; set; } = new List<string> {\"item1\", \"item2\"};",
      "public List<int> EmptyArrayDefault { get; set; } = new List<int>();"
    ]
  },
  {
    "name": "required_vs_optional_fields",
    "description": "Test that fields not in required list become nullable when they lack defaults",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "definitions": {
        "TestClass": {
          "type": "object",
          "properties": {
            "required_field": {
              "type": "string"
            },
            "required_with_default": {
              "type": "string",
              "default": "hello"
            },
            "optional_field": {
              "type": "string"
            },
            "optional_with_default": {
              "type": "integer",
              "default": 42
            }
          },
          "required": ["required_field", "required_with_default"]
        }
      }
    },
    "expected_python": [
      "required_field: str",
      "required_with_default: str = 'hello'",
      "optional_field: str | None = None",
      "optional_with_default: int = 42"
    ],
    "expected_python_v1": [
      "required_field: str",
      "required_with_default: str = \"hello\"",
      "optional_field: str | None = None",
      "optional_with_default: int = 42"
    ],
    "expected_cs": [
      "public string RequiredField { get; set; }",
      "public string RequiredWithDefault { get; set; } = \"hello\";",
      "public string? OptionalField { get; set; }",
      "public int OptionalWithDefault { get; set; } = 42;"
    ]
  },
  {
    "name": "oneOf_with_null_default",
    "description": "Test oneOf with null default value - BaseComponent style property issue",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "$defs": {
        "Style": {
          "type": "object",
          "properties": {
            "color": {
              "type": "string"
            }
          }
        }
      },
      "definitions": {
        "BaseComponent": {
          "type": "object",
          "properties": {
            "className": {
              "type": "string",
              "description": "CSS class names",
              "default": ""
            },
            "style": {
              "oneOf": [
                {
                  "$ref": "#/$defs/Style"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional styling configuration for the component",
              "default": null
            }
          }
        }
      }
    },
    "expected_python": [
      "className: str = ''",
      "style: Style | None = field(default_factory=lambda: Style())"
    ],
    "expected_python_v1": [
      "className: str = \"\"",
      "style: NoneOrStyle = None"
    ],
    "expected_cs": [
      "public string ClassName { get; set; } = \"\";",
      "public Style? Style { get; set; }"
    ]
  },
  {
    "name": "dict_defaults",
    "description": "Test dict types with default values using field() to avoid mutable defaults",
    "schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "definitions": {
        "TestClass": {
          "type": "object",
          "properties": {
            "empty_dict": {
              "type": "object",
              "default": {}
            },
            "populated_dict": {
              "type": "object",
              "default": {"key1": "value1", "key2": 42}
            }
          }
        }
      }
    },
    "expected_python": [
      "empty_dict: Any = field(default_factory=dict)",
      "populated_dict: Any = field(default_factory=lambda: {'key1': 'value1', 'key2': 42})"
    ],
    "expected_python_v1": [
      "empty_dict: Any = field(default_factory=dict)",
      "populated_dict: Any = field(default_factory=lambda: {\"key1\": \"value1\", \"key2\": 42})"
    ],
    "expected_cs": [
      "public object EmptyDict { get; set; } = new object();",
      "public object PopulatedDict { get; set; }"
    ]
  }
]
